{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Footer from '../components/Footer.vue';\nexport default {\n  name: 'Payment',\n  data() {\n    return {\n      orderId: this.$route.query.orderId,\n      orders: {\n        business: {}\n      },\n      isShowDetailet: false\n    };\n  },\n  created() {\n    this.$axios.post('OrdersController/getOrdersById', this.$qs.stringify({\n      orderId: this.orderId\n    })).then(response => {\n      this.orders = response.data;\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n  mounted() {\n    //这里的代码是实现：一旦路由到在线支付组件，就不能回到订单确认组件。\n    //先将当前url添加到history对象中\n    history.pushState(null, null, document.URL);\n    //popstate事件能够监听history对象的变化\n    window.onpopstate = () => {\n      this.$router.push({\n        path: '/index'\n      });\n    };\n  },\n  destroyed() {\n    window.onpopstate = null;\n  },\n  methods: {\n    detailetShow() {\n      this.isShowDetailet = !this.isShowDetailet;\n    }\n  },\n  components: {\n    Footer\n  }\n};","map":{"version":3,"names":["Footer","name","data","orderId","$route","query","orders","business","isShowDetailet","created","$axios","post","$qs","stringify","then","response","catch","error","console","mounted","history","pushState","document","URL","window","onpopstate","$router","push","path","destroyed","methods","detailetShow","components"],"sources":["C:\\Users\\。。。\\Desktop\\neosoft\\myvue\\elmclient\\src\\views\\Payment.vue"],"sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\t\t<!-- header部分 -->\r\n\t\t<header>\r\n\t\t\t<p>在线支付</p>\r\n\t\t</header>\r\n\t\t<!-- 订单信息部分 -->\r\n\t\t<h3>订单信息：</h3>\r\n\t\t<div class=\"order-info\">\r\n\t\t\t<p>\r\n\t\t\t\t{{orders.business.businessName}}\r\n\t\t\t\t<i class=\"fa fa-caret-down\" @click=\"detailetShow\"></i>\r\n\t\t\t</p>\r\n\t\t\t<p>&#165;{{orders.orderTotal}}</p>\r\n\t\t</div>\r\n\t\t<!-- 订单明细部分 -->\r\n\t\t<ul class=\"order-detailet\" v-show=\"isShowDetailet\">\r\n\t\t\t<li v-for=\"item in orders.list\">\r\n\t\t\t\t<p>{{item.food.foodName}} x {{item.quantity}}</p>\r\n\t\t\t\t<p>&#165;{{item.food.foodPrice*item.quantity}}</p>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<p>配送费</p>\r\n\t\t\t\t<p>&#165;{{orders.business.deliveryPrice}}</p>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<!-- 支付方式部分 -->\r\n\t\t<ul class=\"payment-type\">\r\n\t\t\t<li>\r\n\t\t\t\t<img src=\"../assets/alipay.png\">\r\n\t\t\t\t<i class=\"fa fa-check-circle\"></i>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<img src=\"../assets/wechat.png\">\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<div class=\"payment-button\">\r\n\t\t\t<button>确认支付</button>\r\n\t\t</div>\r\n\t\t<!-- 底部菜单部分 -->\r\n\t\t<Footer></Footer>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport Footer from '../components/Footer.vue';\r\n\texport default {\r\n\t\tname: 'Payment',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\torderId: this.$route.query.orderId,\r\n\t\t\t\torders: {\r\n\t\t\t\t\tbusiness: {}\r\n\t\t\t\t},\r\n\t\t\t\tisShowDetailet: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.$axios.post('OrdersController/getOrdersById', this.$qs.stringify({\r\n\t\t\t\torderId: this.orderId\r\n\t\t\t})).then(response => {\r\n\t\t\t\tthis.orders = response.data;\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t//这里的代码是实现：一旦路由到在线支付组件，就不能回到订单确认组件。\r\n\t\t\t//先将当前url添加到history对象中\r\n\t\t\thistory.pushState(null, null, document.URL);\r\n\t\t\t//popstate事件能够监听history对象的变化\r\n\t\t\twindow.onpopstate = () => {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: '/index'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tdestroyed() {\r\n\t\t\twindow.onpopstate = null;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdetailetShow() {\r\n\t\t\t\tthis.isShowDetailet = !this.isShowDetailet;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tFooter\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t/****************** 总容器 ******************/\r\n\t.wrapper{\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t/******************* 头部 ******************/\r\n\t.wrapper header{\r\n\t\twidth: 100%;\r\n\t\theight: 12vw;\r\n\t\tbackground-color: deepskyblue;\r\n\t\t\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\t\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\t\r\n\t\tcolor: white;\r\n\t\tfont-size: 5vw;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t/****************** 订单信息部分 ******************/\r\n\t.wrapper h3 {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 15vw 3vw 1vw;\r\n\t\t\r\n\t\tfont-size: 3.5vw;\r\n\t\tfont-weight: 300;\r\n\t\tcolor: gray;\r\n\t}\r\n\r\n\t.wrapper .order-info {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 2vw 3vw;\r\n\t\tfont-size: 3.5vw;\r\n\t\tcolor: darkslategray;\r\n\t\t\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t.wrapper .order-info .fa-caret-down{\r\n\t\tuser-select: none;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.wrapper .order-info p:last-child {\r\n\t\tcolor: orangered;\r\n\t}\r\n\r\n\t/****************** 订单明细部分 ******************/\r\n\t.wrapper .order-detailet {\r\n\t\twidth: 100;\r\n\t\tmargin-bottom: 8vw;\r\n\t}\r\n\r\n\t.wrapper .order-detailet li {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 1vw 3vw 0vw;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .order-detailet li p {\r\n\t\tfont-size: 3vw;\r\n\t\tcolor: darkslategray;\r\n\t}\r\n\r\n\t/****************** 支付方式部分 ******************/\r\n\t.wrapper .payment-type {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.wrapper .payment-type li {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 4vw;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.wrapper .payment-type li img {\r\n\t\twidth: 33vw;\r\n\t\theight: 8.9vw;\r\n\t}\r\n\r\n\t.wrapper .payment-type li .fa-check-circle {\r\n\t\tfont-size: 5vw;\r\n\t\tcolor: #38CA73;\r\n\t}\r\n\r\n\t.wrapper .payment-button {\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 4vw;\r\n\t}\r\n\r\n\t.wrapper .payment-button button {\r\n\t\twidth: 100%;\r\n\t\theight: 10vw;\r\n\t\tborder: none;\r\n\t\t/*去掉外轮廓线*/\r\n\t\toutline: none;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground-color: #38CA73;\r\n\t\tcolor: #fff;\r\n\t}\r\n</style>"],"mappings":";AA4CC,OAAOA,MAAK,MAAO,0BAA0B;AAC7C,eAAe;EACdC,IAAI,EAAE,SAAS;EACfC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,OAAO,EAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,OAAO;MAClCG,MAAM,EAAE;QACPC,QAAQ,EAAE,CAAC;MACZ,CAAC;MACDC,cAAc,EAAE;IACjB;EACD,CAAC;EACDC,OAAOA,CAAA,EAAG;IACT,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,gCAAgC,EAAE,IAAI,CAACC,GAAG,CAACC,SAAS,CAAC;MACrEV,OAAO,EAAE,IAAI,CAACA;IACf,CAAC,CAAC,CAAC,CAACW,IAAI,CAACC,QAAO,IAAK;MACpB,IAAI,CAACT,MAAK,GAAIS,QAAQ,CAACb,IAAI;IAC5B,CAAC,CAAC,CAACc,KAAK,CAACC,KAAI,IAAK;MACjBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACrB,CAAC,CAAC;EACH,CAAC;EACDE,OAAOA,CAAA,EAAG;IACT;IACA;IACAC,OAAO,CAACC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAEC,QAAQ,CAACC,GAAG,CAAC;IAC3C;IACAC,MAAM,CAACC,UAAS,GAAI,MAAM;MACzB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QACjBC,IAAI,EAAE;MACP,CAAC,CAAC;IACH;EACD,CAAC;EACDC,SAASA,CAAA,EAAG;IACXL,MAAM,CAACC,UAAS,GAAI,IAAI;EACzB,CAAC;EACDK,OAAO,EAAE;IACRC,YAAYA,CAAA,EAAG;MACd,IAAI,CAACvB,cAAa,GAAI,CAAC,IAAI,CAACA,cAAc;IAC3C;EACD,CAAC;EACDwB,UAAU,EAAE;IACXhC;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}