{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Footer from \"../components/Footer.vue\";\nexport default {\n  name: \"OrderList\",\n  data() {\n    return {\n      orderArr: [],\n      user: {}\n    };\n  },\n  created() {\n    this.user = this.$getSessionStorage(\"user\");\n    let url = \"OrdersController/listOrdersByUserId/\" + this.user.userId;\n    this.$axios.get(url).then(response => {\n      let result = response.data.result;\n      //console.log(result);\n      for (let orders of result) {\n        orders.isShowDetailet = false;\n      }\n      this.orderArr = result;\n      console.log(result);\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n  methods: {\n    detailetShow(orders) {\n      orders.isShowDetailet = !orders.isShowDetailet;\n    },\n    toPay(orderId) {\n      this.$router.push({\n        path: \"/payment\",\n        query: {\n          orderId: orderId\n        }\n      });\n    }\n  },\n  components: {\n    Footer\n  }\n};","map":{"version":3,"names":["Footer","name","data","orderArr","user","created","$getSessionStorage","url","userId","$axios","get","then","response","result","orders","isShowDetailet","console","log","catch","error","methods","detailetShow","toPay","orderId","$router","push","path","query","components"],"sources":["C:\\WAILE\\Homework\\elm\\vue_springcloud\\src\\views\\OrderList.vue"],"sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <!-- header部分 -->\r\n    <header>\r\n      <p>我的订单</p>\r\n    </header>\r\n    <!-- 订单列表部分 -->\r\n    <div style=\"height: 2vw\"></div>\r\n    <ul class=\"unpaid-order\">\r\n      <h3>未支付订单信息：</h3>\r\n      <li v-for=\"item in orderArr\">\r\n        <div class=\"order-info\" v-if=\"item.orderState == 0\">\r\n          <p>\r\n            {{ item.business.businessName }}\r\n            <i class=\"fa fa-caret-down\" @click=\"detailetShow(item)\"></i>\r\n          </p>\r\n          <div class=\"order-info-right\">\r\n            <p>&#165;{{ item.orderTotal }}</p>\r\n            <div class=\"order-info-right-icon\" @click=\"toPay(item.orderId)\">\r\n              去支付\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ul class=\"order-detailet\" v-show=\"item.isShowDetailet\">\r\n          <li v-for=\"odItem in item.list\">\r\n            <p>{{ odItem.food.foodName }} x {{ odItem.quantity }}</p>\r\n            <p>&#165;{{ odItem.food.foodPrice * odItem.quantity }}</p>\r\n          </li>\r\n          <li>\r\n            <p>配送费</p>\r\n            <p>&#165;{{ item.business.deliveryPrice }}</p>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n\r\n    <ul class=\"paid-order\">\r\n      <h3>已支付订单信息：</h3>\r\n      <li v-for=\"item in orderArr\">\r\n        <div class=\"order-info\" v-if=\"item.orderState == 1\">\r\n          <p>\r\n            {{ item.business.businessName }}\r\n            <i class=\"fa fa-caret-down\" @click=\"detailetShow(item)\"></i>\r\n          </p>\r\n          <div class=\"order-info-right\">\r\n            <p>&#165;{{ item.orderTotal }}</p>\r\n          </div>\r\n        </div>\r\n        <ul class=\"order-detailet\" v-show=\"item.isShowDetailet\">\r\n          <li v-for=\"odItem in item.list\">\r\n            <p>{{ odItem.food.foodName }} x {{ odItem.quantity }}</p>\r\n            <p>&#165;{{ odItem.food.foodPrice * odItem.quantity }}</p>\r\n          </li>\r\n          <li>\r\n            <p>配送费</p>\r\n            <p>&#165;{{ item.business.deliveryPrice }}</p>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n    <div style=\"height: 16vw\"></div>\r\n    <!-- 底部菜单部分 -->\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Footer from \"../components/Footer.vue\";\r\n\r\nexport default {\r\n  name: \"OrderList\",\r\n  data() {\r\n    return {\r\n      orderArr: [],\r\n      user: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.user = this.$getSessionStorage(\"user\");\r\n    let url = \"OrdersController/listOrdersByUserId/\" + this.user.userId;\r\n    this.$axios\r\n      .get(url)\r\n      .then((response) => {\r\n        let result = response.data.result;\r\n        //console.log(result);\r\n        for (let orders of result) {\r\n          orders.isShowDetailet = false;\r\n        }\r\n        this.orderArr = result;\r\n        console.log(result);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  },\r\n  methods: {\r\n    detailetShow(orders) {\r\n      orders.isShowDetailet = !orders.isShowDetailet;\r\n    },\r\n    toPay(orderId) {\r\n      this.$router.push({\r\n        path: \"/payment\",\r\n        query: {\r\n          orderId: orderId,\r\n        },\r\n      });\r\n    },\r\n  },\r\n  components: {\r\n    Footer,\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n/****************** 总容器 ******************/\r\n.wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #f2f2f2;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/****************** header部分 ******************/\r\n.wrapper header {\r\n  width: 100%;\r\n  height: 12vw;\r\n  background-color: deepskyblue;\r\n\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  color: white;\r\n  font-size: 5vw;\r\n  font-weight: 700;\r\n}\r\n\r\n/****************** 历史订单列表部分 ******************/\r\n.wrapper .unpaid-order h3 {\r\n  margin-bottom: 3vw;\r\n  font-size: 3.5vw;\r\n  font-weight: 300;\r\n  color: gray;\r\n}\r\n\r\n.wrapper .unpaid-order {\r\n  box-sizing: border-box;\r\n  padding: 3vw 3vw 2vw;\r\n  margin: 12vw 2vw 2vw;\r\n  user-select: none;\r\n  background-color: white;\r\n  border-radius: 5vw;\r\n  border: solid 1.5px #ddd;\r\n}\r\n\r\n.wrapper .unpaid-order li {\r\n  width: 100%;\r\n}\r\n\r\n.wrapper .unpaid-order li .order-info {\r\n  box-sizing: border-box;\r\n  padding: 2vw 4vw;\r\n  font-size: 3.5vw;\r\n  color: #666;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.wrapper .unpaid-order li .order-info .order-info-right {\r\n  display: flex;\r\n}\r\n\r\n.wrapper .unpaid-order li .order-info .order-info-right .order-info-right-icon {\r\n  background-color: #f90;\r\n  color: #fff;\r\n  border-radius: 3px;\r\n  margin-left: 2vw;\r\n  user-select: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.wrapper .unpaid-order li .order-detailet {\r\n  width: 100%;\r\n}\r\n\r\n.wrapper .unpaid-order li .order-detailet li {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  padding: 1vw 4vw;\r\n  color: #666;\r\n  font-size: 2.5vw;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.wrapper .paid-order h3 {\r\n  margin-bottom: 3vw;\r\n  font-size: 3.5vw;\r\n  font-weight: 300;\r\n  color: gray;\r\n}\r\n\r\n.wrapper .paid-order {\r\n  box-sizing: border-box;\r\n  padding: 3vw 3vw 2vw;\r\n  margin: 4vw 2vw 2vw;\r\n  user-select: none;\r\n  background-color: white;\r\n  border-radius: 5vw;\r\n  border: solid 1.5px #ddd;\r\n}\r\n\r\n.wrapper .paid-order li {\r\n  width: 100%;\r\n}\r\n\r\n.wrapper .paid-order li .order-info {\r\n  box-sizing: border-box;\r\n  padding: 2vw 4vw;\r\n  font-size: 3.5vw;\r\n  color: #666;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.wrapper .paid-order li .order-info .order-info-right {\r\n  display: flex;\r\n}\r\n\r\n.wrapper .paid-order li .order-info .order-info-right .order-info-right-icon {\r\n  background-color: #f90;\r\n  color: #fff;\r\n  border-radius: 3px;\r\n  margin-left: 2vw;\r\n  user-select: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.wrapper .paid-order li .order-detailet {\r\n  width: 100%;\r\n}\r\n\r\n.wrapper .paid-order li .order-detailet li {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  padding: 1vw 4vw;\r\n  color: #666;\r\n  font-size: 2.5vw;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n</style>\r\n"],"mappings":";AAkEA,OAAOA,MAAK,MAAO,0BAA0B;AAE7C,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE,CAAC;IACT,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACD,IAAG,GAAI,IAAI,CAACE,kBAAkB,CAAC,MAAM,CAAC;IAC3C,IAAIC,GAAE,GAAI,sCAAqC,GAAI,IAAI,CAACH,IAAI,CAACI,MAAM;IACnE,IAAI,CAACC,MAAK,CACPC,GAAG,CAACH,GAAG,EACPI,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAIC,MAAK,GAAID,QAAQ,CAACV,IAAI,CAACW,MAAM;MACjC;MACA,KAAK,IAAIC,MAAK,IAAKD,MAAM,EAAE;QACzBC,MAAM,CAACC,cAAa,GAAI,KAAK;MAC/B;MACA,IAAI,CAACZ,QAAO,GAAIU,MAAM;MACtBG,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC;IACrB,CAAC,EACAK,KAAK,CAAEC,KAAK,IAAK;MAChBH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC;EACN,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAACP,MAAM,EAAE;MACnBA,MAAM,CAACC,cAAa,GAAI,CAACD,MAAM,CAACC,cAAc;IAChD,CAAC;IACDO,KAAKA,CAACC,OAAO,EAAE;MACb,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAChBC,IAAI,EAAE,UAAU;QAChBC,KAAK,EAAE;UACLJ,OAAO,EAAEA;QACX;MACF,CAAC,CAAC;IACJ;EACF,CAAC;EACDK,UAAU,EAAE;IACV5B;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}